<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Takaful Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
  <div class="bg-white p-6 rounded-xl shadow-lg w-full max-w-lg">
    <h1 class="text-2xl font-bold mb-6 text-center">Takaful Calculator</h1>

    <!-- Input Form -->
    <div class="space-y-4">
      <div>
        <label class="block text-sm font-semibold">Age</label>
        <input type="number" id="age" class="w-full p-2 border rounded-lg" placeholder="Enter age">
      </div>

      <div>
        <label class="block text-sm font-semibold">Coverage Amount (RM)</label>
        <input type="number" id="coverage" class="w-full p-2 border rounded-lg" placeholder="e.g. 100000">
      </div>

      <div>
        <label class="block text-sm font-semibold">Coverage Term</label>
        <select id="term" class="w-full p-2 border rounded-lg">
          <option value="1">1 Year</option>
          <option value="5">5 Years</option>
          <option value="10">10 Years</option>
        </select>
      </div>

      <button onclick="calculateTakaful()" 
              class="w-full bg-indigo-700 text-white py-2 rounded-lg hover:bg-indigo-800">
        Calculate
      </button>
    </div>

    <!-- Results -->
    <div id="results" class="mt-6 hidden bg-gray-50 p-4 rounded-lg border">
      <h2 class="text-lg font-semibold mb-2">Results</h2>
      <p><span class="font-semibold">Yearly Premium:</span> RM<span id="yearly"></span></p>
      <p><span class="font-semibold">Total Premium:</span> RM<span id="total"></span></p>
    </div>

    <!-- Back Button -->
    <button onclick="window.location.href='index.html'" 
            class="mt-6 w-full bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700">
      ‚Üê Back to Cashflow Calculator
    </button>
  </div>

  <script>
    function calculateTakaful() {
      const age = parseInt(document.getElementById("age").value);
      const coverage = parseFloat(document.getElementById("coverage").value);
      const term = parseInt(document.getElementById("term").value);

      if (!age || !coverage || !term) {
        alert("Please fill in all fields!");
        return;
      }

      // üîπ Example formula: Premium = coverage * (rate based on age) * 0.01
      // Younger age = lower rate, older = higher
      let rate;
      if (age < 30) rate = 0.5;
      else if (age < 40) rate = 0.8;
      else if (age < 50) rate = 1.2;
      else rate = 2.0;

      const yearlyPremium = (coverage * rate * 0.01).toFixed(2);
      const totalPremium = (yearlyPremium * term).toFixed(2);

      document.getElementById("yearly").textContent = yearlyPremium;
      document.getElementById("total").textContent = totalPremium;
      document.getElementById("results").classList.remove("hidden");
    }
  </script>
</body>
</html>