<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Total Need Analysis</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
</head>
<body class="bg-gray-100 min-h-screen">
  <div class="max-w-5xl mx-auto px-6">
    <main>

      <!-- Header -->
      <div class="text-center mb-10">
        <p class="mt-20"></p>
        <h1 class="text-2xl font-bold text-blue-700">Total Need Analysis Calculator</h1>
        <p class="text-sm text-gray-500 mt-1">Estimate your total financial protection needs and coverage gap</p>
      </div>

      <div class="space-y-10">

        <!-- Section 1: Total Needs -->
        <div data-aos="fade-up" data-aos-delay="100">
          <div class="rounded-2xl shadow-lg p-8 bg-white/30 backdrop-blur-md border border-white/20">
            <h2 class="text-xl font-semibold text-blue-700 mb-2">Total Needs</h2>
            <p class="text-gray-700 text-sm mb-6">These represent your estimated financial needs in case of unexpected events.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="incomeLoss" class="block text-gray-700 text-sm mb-1">Income / Expense Loss (RM)</label>
                <input id="incomeLoss" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-blue-300" placeholder="e.g. 300000">
              </div>
              <div>
                <label for="education" class="block text-gray-700 text-sm mb-1">Education (RM)</label>
                <input id="education" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-blue-300" placeholder="e.g. 200000">
              </div>
              <div>
                <label for="housing" class="block text-gray-700 text-sm mb-1">Housing / Liabilities (RM)</label>
                <input id="housing" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-blue-300" placeholder="e.g. 300000">
              </div>
            </div>
          </div>
        </div>

        <!-- Section 2: What You Have -->
        <div data-aos="fade-up" data-aos-delay="150">
          <div class="rounded-2xl shadow-lg p-8 bg-white/30 backdrop-blur-md border border-white/20">
            <h2 class="text-xl font-semibold text-green-700 mb-2">What You Have</h2>
            <p class="text-gray-700 text-sm mb-6">These are your available assets and savings that can offset your financial needs.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="savings" class="block text-gray-700 text-sm mb-1">Savings (RM)</label>
                <input id="savings" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-green-300" placeholder="e.g. 100000">
              </div>
              <div>
                <label for="epf" class="block text-gray-700 text-sm mb-1">EPF (RM)</label>
                <input id="epf" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-green-300" placeholder="e.g. 150000">
              </div>
              <div>
                <label for="otherAssets" class="block text-gray-700 text-sm mb-1">Other Assets (RM)</label>
                <input id="otherAssets" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-green-300" placeholder="e.g. 50000">
              </div>
            </div>
          </div>
        </div>

        <!-- Section 3: Existing Coverage -->
        <div data-aos="fade-up" data-aos-delay="200">
          <div class="rounded-2xl shadow-lg p-8 bg-white/30 backdrop-blur-md border border-white/20">
            <h2 class="text-xl font-semibold text-purple-700 mb-2">Existing Coverage</h2>
            <p class="text-gray-700 text-sm mb-6">Include your current insurance, takaful, or protection plan coverage.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="life" class="block text-gray-700 text-sm mb-1">Life Coverage (RM)</label>
                <input id="life" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-purple-300" placeholder="e.g. 150000">
              </div>
              <div>
                <label for="otherCoverage" class="block text-gray-700 text-sm mb-1">Other Coverage (CI/PA) (RM)</label>
                <input id="otherCoverage" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-purple-300" placeholder="e.g. 200000">
              </div>
            </div>
          </div>
        </div>

        <!-- Calculate Button -->
        <div class="mt-6 text-center">
          <button onclick="calculateNeeds()" class="bg-indigo-700 text-white px-8 py-3 rounded-xl shadow hover:bg-indigo-800 transition">Calculate Total Need</button>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="transition-all duration-700 ease-in-out mt-10">
          <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
            <h3 class="text-lg font-semibold mb-4">Result Summary</h3>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
              <div class="bg-blue-50 rounded-xl p-4">
                <p class="text-gray-500 text-sm">Total Needs</p>
                <p id="totalNeeds" class="text-2xl font-bold text-blue-600">RM0</p>
              </div>
              <div class="bg-green-50 rounded-xl p-4">
                <p class="text-gray-500 text-sm">Total Assets + Coverage</p>
                <p id="totalAssetsCoverage" class="text-2xl font-bold text-green-600">RM0</p>
              </div>
              <div class="bg-yellow-50 rounded-xl p-4">
                <p class="text-gray-500 text-sm">Remaining Gap</p>
                <p id="remainingGap" class="text-2xl font-bold text-yellow-600">RM0</p>
              </div>
            </div>

            <p id="gapMessage" class="mt-6 text-gray-700 text-sm font-medium"></p>
          </div>
        </div>

        <!-- Children Education Fund Section -->
        <div data-aos="fade-up" data-aos-delay="250" class="mt-10">
          <div class="rounded-2xl shadow-lg p-8 bg-white/30 backdrop-blur-md border border-white/20">
            <h2 class="text-xl font-semibold text-orange-700 mb-2">Children Education Fund (Reference)</h2>
            <p class="text-gray-700 text-sm mb-6">
              Estimate how much you need to save for your child’s future education.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="educationNow" class="block text-gray-700 text-sm mb-1">Current Education Cost (RM)</label>
                <input id="educationNow" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-orange-300" placeholder="e.g. 60000">
              </div>
              <div>
                <label for="childAge" class="block text-gray-700 text-sm mb-1">Youngest Child’s Age (years)</label>
                <input id="childAge" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-orange-300" placeholder="e.g. 5">
              </div>
              <div>
                <label for="targetAge" class="block text-gray-700 text-sm mb-1">When to Use Fund (age)</label>
                <input id="targetAge" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-orange-300" placeholder="e.g. 20">
              </div>
              <div>
                <label for="inflationRate" class="block text-gray-700 text-sm mb-1">Expected Inflation Rate (%)</label>
                <input id="inflationRate" type="number" class="w-full p-3 rounded-lg bg-white/60 border focus:ring-2 focus:ring-orange-300" placeholder="e.g. 3" value="3">
              </div>
            </div>

            <div class="text-center mt-6">
              <button onclick="calculateEducationFund()" class="bg-orange-600 text-white px-8 py-3 rounded-xl shadow hover:bg-orange-700 transition">Calculate Education Fund</button>
            </div>

            <div id="eduFundResult" class="mt-8 bg-orange-50 rounded-xl p-6 text-center hidden">
              <h3 class="text-lg font-semibold text-orange-700 mb-3">Result Summary</h3>
              <p id="eduFutureCost" class="text-gray-700 mb-1"></p>
              <p id="eduYears" class="text-gray-700 mb-1"></p>
              <p id="eduYearlySaving" class="text-gray-700 font-medium"></p>
            </div>
          </div>
        </div>

        <div class="text-center text-xs text-gray-600 mt-6">
          <p>Disclaimer: This calculator provides general estimates only. For personalized advice, please consult one of our trusted advisors.</p>
        </div>

      </div>
    </main>
  </div>

  <script>
    AOS.init();

    function calculateNeeds() {
      const incomeLoss = parseFloat(document.getElementById("incomeLoss").value) || 0;
      const education = parseFloat(document.getElementById("education").value) || 0;
      const housing = parseFloat(document.getElementById("housing").value) || 0;

      const savings = parseFloat(document.getElementById("savings").value) || 0;
      const epf = parseFloat(document.getElementById("epf").value) || 0;
      const otherAssets = parseFloat(document.getElementById("otherAssets").value) || 0;

      const life = parseFloat(document.getElementById("life").value) || 0;
      const otherCoverage = parseFloat(document.getElementById("otherCoverage").value) || 0;

      const totalNeeds = incomeLoss + education + housing;
      const totalAssetsCoverage = savings + epf + otherAssets + life + otherCoverage;
      const remainingGap = totalNeeds - totalAssetsCoverage;

      document.getElementById("totalNeeds").textContent = "RM " + totalNeeds.toLocaleString();
      document.getElementById("totalAssetsCoverage").textContent = "RM " + totalAssetsCoverage.toLocaleString();
      document.getElementById("remainingGap").textContent = "RM " + Math.abs(remainingGap).toLocaleString();

      const message = remainingGap > 0
        ? `You have a shortfall of RM ${remainingGap.toLocaleString()}. Consider increasing your coverage.`
        : `You have sufficient coverage! You’re over by RM ${Math.abs(remainingGap).toLocaleString()}.`;
      document.getElementById("gapMessage").innerText = message;
    }

    function calculateEducationFund() {
    const costNow = parseFloat(document.getElementById("educationNow").value) || 0;
    const childAge = parseFloat(document.getElementById("childAge").value) || 0;
    const targetAge = parseFloat(document.getElementById("targetAge").value) || 0;
    const inflation = (parseFloat(document.getElementById("inflationRate").value) || 0) / 100;

    const years = targetAge - childAge;
    if (years <= 0 || costNow <= 0) {
      alert("Please enter valid ages and education cost.");
      return;
    }

    const futureCost = costNow * Math.pow((1 + inflation), years);
    const yearlySaving = futureCost / years;

    document.getElementById("eduFundResult").classList.remove("hidden");
    document.getElementById("eduFutureCost").innerHTML = 
      `<strong>Future Education Cost:</strong> RM ${futureCost.toLocaleString(undefined, { maximumFractionDigits: 2 })}`;
    document.getElementById("eduYears").innerHTML = 
      `<strong>Years to Prepare:</strong> ${years} year(s)`;
    document.getElementById("eduYearlySaving").innerHTML = 
      `<strong>Recommended Yearly Saving:</strong> RM ${yearlySaving.toLocaleString(undefined, { maximumFractionDigits: 2 })}`;
  }
  </script>
</body>
</html>